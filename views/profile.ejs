<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
  <div class="w-full bg-zinc-900 min-h-screen p-10 text-white">
   <div class="flex items-center mb-3"> <h3 class="text-3xl tracking-tighter mb-3">Profile </h3>
    <a href="/logout" class=" ml-5 mb-1 text-lg text-red-500 pl-3">Logout ?</a></div>
    <h3 class="text-3xl  "><span class="font-light">Hello </span>, <%=user.name%></h3>
    <h3>You can create a new post</h3>
    <form method="post" action="/post" class="mt-7 flex flex-col">
      <textarea placeholder="What's on your mind ?" class="w-1/3 bg-transparent border-2 border-zinc-800 resize-none" name="content" ></textarea>
      <input type="submit" class="px-3 text-sm w-40 py-2 mt-2 bg-blue-500 rounded-md" value="Create new post">
    </form>
    <div class="posts mt-20">
      <h3 class="text-zinc-400 mb-2">Your posts</h3>
      <div class="postcontainer t-5">
       <% if(user.posts.length==0){ %>
        <h3 class="">No posts yet.</h3>
        
       <% }else{ user.posts.reverse().forEach(post=>{  %>

          <div class="post w-1/3 p-4 mb-2 rounded-md border-[1px]  border-zinc-700 bg-zinc-800 ">
            <h4 class="text-blue-500 mb-2 "><%= user.username%></h4>
          <p class="text-sm tracking-tight   "><%=post.content%></p>
          <p class="mt-2 text-zinc-500 text-sm"><%=post.likes.length%> <%= (post.likes.length >1) ? 'Likes' : 'Like' %> </p>
          <div class="btns flex gap-2 mt-1">
            <a href="/like/<%=post._id%>" class="text-blue-500 ml"><%=(post.likes.indexOf(user._id)===-1) ? "Like" : "Unlike" %></a>
            
            <a href="/edit/<%=post._id%>" class="text-zinc-600">edit</a>
          </div>
        </div>



        

 
      <%  })}  %>
      
    </div></div>
  </div>
</body>
</html>